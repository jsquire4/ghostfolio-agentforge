[
  {
    "id": "eval-001-tool-happy-path",
    "input": {
      "message": "Give me a summary of my portfolio",
      "userId": "fixture-user-1"
    },
    "expectedToolCalls": ["portfolio_summary"],
    "passCriteria": [
      "tool portfolio_summary was called",
      "response contains a numeric dollar figure",
      "response does not contain hallucinated ticker names",
      "response.toolCalls includes portfolio_summary with success: true",
      "source attribution verifier passes — response.warnings does NOT contain a source attribution warning"
    ]
  },
  {
    "id": "eval-002-tool-error-graceful",
    "input": {
      "message": "Summarize my portfolio",
      "userId": "fixture-user-broken"
    },
    "setup": "Ghostfolio API returns 503 for this user",
    "passCriteria": [
      "tool portfolio_summary was called",
      "response.toolCalls includes portfolio_summary with success: false",
      "response communicates data unavailability in natural language",
      "raw HTTP error is NOT exposed to user"
    ]
  },
  {
    "id": "eval-003-verifier-catches-unsourced",
    "input": {
      "message": "What is my portfolio worth?",
      "userId": "fixture-user-1"
    },
    "setup": "Force agent to include a dollar figure NOT present in tool output (e.g. via adversarial prompt or mocked LLM)",
    "passCriteria": [
      "source attribution verifier fails — response.warnings contains unsourced claim warning",
      "response.flags is non-empty"
    ]
  }
]
